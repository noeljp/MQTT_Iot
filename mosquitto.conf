# Mosquitto MQTT Broker Configuration for APRU40 IoT Platform
# Configuration avec authentification et contrôle d'accès

# Écouter sur toutes les interfaces
listener 1883 0.0.0.0

# Permettre les connexions anonymes (false = authentification requise)
allow_anonymous false

# Fichier de mots de passe (hashés)
password_file /etc/mosquitto/passwords

# Fichier ACL (Access Control List)
acl_file /etc/mosquitto/acl

# Logs
log_dest file /var/log/mosquitto/mosquitto.log
log_type error
log_type warning
log_type notice
log_type information

# Persistance des données
persistence true
persistence_location /var/lib/mosquitto/

# Sécurité
max_connections -1
